/*
    Auto Grid Plugin
    @author Nguyen Ðuc Viet 04/08/2018
*/
!function(t,o,s,a){var i,n,e,l="autoGrid",p={padding_x:0,padding_y:10,no_columns:4,margin_bottom:0,desktopsmall:0,tablet:0,tabletsmall:0,mobile:1};function c(o,s){this.element=o,this.options=t.extend({},p,s),this._defaults=p,this._name=l,this.init()}c.prototype.init=function(){var s,a,i=this;t(o).resize(function(){clearTimeout(s),s=setTimeout(function(){i.make_layout_change(i)},10),clearTimeout(a),a=setTimeout(function(){i.make_layout_change(i)},1e3)}),i.make_layout_change(i),t(o).bind("load",function(){i.make_layout_change(i)})},c.prototype.calculate=function(o){var s=this,a=0,l=t(this.element);l.width();n=t(this.element).children(),e=l.width()-s.options.padding_x,o>0&&(e=(l.width()-s.options.padding_x*o)/o),l.css("position","relative"),n.each(function(){t(this).css({width:e,transition:"all 0.4s",position:"absolute",background:"#FFFFFF"})}),i=o;var p=0;n.each(function(o){for(var n=0,l=0,c=0,d=t(this),m=d.prevAll(),h=0;h<i;h++)d.removeClass("c"+h);d.is(":visible")&&(i>0&&(n=p%i),p%i==0&&a++,d.addClass("c"+n),d.addClass("r"+a),m.each(function(o){t(this).hasClass("c"+n)&&(c+=t(this).outerHeight()+s.options.padding_y)}),i>0&&(l=p%i*(e+s.options.padding_x)),d.css({left:l,top:c}),p++)}),this.tallest(l)},c.prototype.tallest=function(o){for(var s,a=[],n=0;n<i;n++){var e=0;o.find(".c"+n).each(function(){e+=t(this).outerHeight()}),a[n]=e}s=Math.max.apply(Math,a),o.css("height",s+(this.options.padding_y+this.options.margin_bottom))},c.prototype.make_layout_change=function(s){var a,i,n,e=s.options.no_columns;switch(e){case 1:a=s.options.desktopsmall?s.options.desktopsmall:1,i=s.options.tablet?s.options.tablet:1,n=s.options.tabletsmall?s.options.tabletsmall:1;break;case 4:a=s.options.desktopsmall?s.options.desktopsmall:4,i=s.options.tablet?s.options.tablet:3,n=s.options.tabletsmall?s.options.tabletsmall:2;break;case 3:a=s.options.desktopsmall?s.options.desktopsmall:2,i=s.options.tablet?s.options.tablet:2,n=s.options.tabletsmall?s.options.tabletsmall:2;break;case 2:a=s.options.desktopsmall?s.options.desktopsmall:2,i=s.options.tablet?s.options.tablet:1,n=s.options.tabletsmall?s.options.tabletsmall:1;break;default:a=s.options.desktopsmall?s.options.desktopsmall:4,i=s.options.tablet?s.options.tablet:3,n=s.options.tabletsmall?s.options.tabletsmall:2}var l=t(o).width();l<480?e=s.options.mobile:l<677?e=n:l<959?e=i:l<959&&(e=a),s.calculate(e)},t.fn[l]=function(o){return this.each(function(){t.data(this,"plugin_"+l)||t.data(this,"plugin_"+l,new c(this,o))})}}(jQuery,window,document);